# ì…ì‹¤ ì²´í¬ í•´ì£¼ì„¸ìš” !! ğŸ’Œ
1. visual studio codeë¡œ .md íŒŒì¼
2. intellijë¡œ ì½”ë“œ ì‘ì„±ìœ¼ë¡œ í•˜ê² ìŠµë‹ˆë‹¤.

# SpringBoot Project ìƒì„±
https://start.spring.io
Gradle - Groovy
Java
3.5.6
Artifact com.example.cardatabase
Jar
17

ê·¸ë¦¬ê³  Add Dependencies click
Spring Web
Spring Boot Dev tools
Lombok
Spring Data JPA

SpringBootì˜ ê°„ë‹¨ ì„¤ëª…
Entityì˜ ê°œë…
JPAê°€ ê·¸ë˜ì„œ Entityì™€ ì–´ë–»ê²Œ ì—°ê²°ë˜ì–´ìˆê³ , inmemory databaseì¸ h2ì™€ ì–´ë–»ê²Œ ì—°ê²°ì´ ë˜ëŠ”ì§€ ì—¬ë¶€ë„ ìˆ˜ì—….
build.gradle / application.propertiesë¼ê³  í•˜ëŠ” íŒŒì¼ë“¤ì— ëª…ë ¹ì–´ë“¤ì„ ì‘ì„±í•˜ê²Œ ëìŠµë‹ˆë‹¤.

Entity í´ë˜ìŠ¤ì˜ ê²½ìš°ì—ëŠ” DBì—ì„œì˜ table ì—­í• ì„ í•¨.
Entity í´ë˜ìŠ¤ì˜ fieldë“¤ì€ column ì—­í• ì„ í•¨.
JPAì™€ ì—°ë™ ë˜ì–´ìˆê¸° ë•Œë¬¸ì— í•„ìˆ˜ì ìœ¼ë¡œ ê¸°ë³¸ ìƒì„±ìë¥¼ ìš”êµ¬í•¨.
idê°’ì„ AUTOë¡œ ì¡ì•„ë†¨ê¸° ë•Œë¬¸ì—(ì¦‰, ìƒì„±ë  ë•Œë§ˆë‹¤ dbì—ì„œ ê³ ìœ  idê°’ì„ ë¶€ì—¬í•˜ê¸° ë•Œë¬¸ì—)
@AllArgsConstructorë¥¼ ì ìš©í•˜ë©´ ì˜¤ë¥˜ê°€ ë°œìƒí•©ë‹ˆë‹¤.


Lombokì´ ì ìš©ë˜ì§€ ì•Šì•˜ì„ ë•Œì˜ ê¸°ë³¸ì ì¸ Entity classì˜ êµ¬ì¡°
```java
package com.example.cardatabase.domain;

import jakarta.persistence.Entity;
import jakarta.persistence.GeneratedValue;
import jakarta.persistence.GenerationType;
import jakarta.persistence.Id;
import lombok.NoArgsConstructor;

@Entity
public class Owner {
    @Id
    @GeneratedValue(strategy = GenerationType.AUTO)
    private Long ownerId;
    
    private String firstName, lastName;
    
    // Lombok ì‚¬ìš©í•˜ì§€ ì•Šê³ , ê¸°ë³¸ ìƒì„±ì ë° ownerIdë¥¼ ì œì™¸í•œ RequiredArgsConstructorë¥¼ ìƒì„±í•  ê²ƒ
    // Lombok ì‚¬ìš©í•˜ì§€ ì•Šê³ , ê° fieldì— ëŒ€í•œ getter setterë¥¼ ìƒì„±í•  ê²ƒ

    public Owner() {}

    public Owner(String firstName, String lastName) {
        this.firstName = firstName;
        this.lastName = lastName;
    }

    public Long getOwnerId() {
        return ownerId;
    }

    public void setOwnerId(Long ownerId) {
        this.ownerId = ownerId;
    }

    public String getFirstName() {
        return firstName;
    }

    public void setFirstName(String firstName) {
        this.firstName = firstName;
    }

    public String getLastName() {
        return lastName;
    }

    public void setLastName(String lastName) {
        this.lastName = lastName;
    }
}
```

Lombokì´ ì ìš©ëœ Entity Classì˜ êµ¬ì¡°

```java
package com.example.cardatabase.domain;

import jakarta.persistence.Entity;
import jakarta.persistence.GeneratedValue;
import jakarta.persistence.GenerationType;
import jakarta.persistence.Id;
import lombok.*;

@Entity
@Getter
@Setter
@ToString
@NoArgsConstructor(force = true)
@RequiredArgsConstructor
public class Owner {
    @Id
    @GeneratedValue(strategy = GenerationType.AUTO)
    private Long ownerId;

    private final String firstName;
    private final String lastName;
}
```
- `@NoArgsConstructor(force = true)` : final í•„ë“œê°€ ìˆëŠ” ê²½ìš°ì—ë„ í•´ë‹¹ í•„ë“œë¥¼ nullë¡œ ì´ˆê¸°í™”í•˜ëŠ” ìƒì„±ìë¥¼ ê°•ì œë¡œ ìƒì„±í•´ì£¼ê¸° ë•Œë¬¸ì— `final` í‚¤ì›Œë“œê°€ ë¶™ì€ ê²½ìš°ì—ë„ JPAì—ì„œ ìš”êµ¬ë˜ëŠ” ê¸°ë³¸ ìƒì„±ìë¥¼ ë§Œë“¤ ìˆ˜ ìˆê³ , `@RequiredArgsConstructor`ì™€ë„ ì¶©ëŒí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

http://localhost:8080/h2-console
ë“¤ì–´ê°€ì„œ ì¢Œì¸¡ í™•ì¸í•´ë³´ì‹œë©´ OWNER tableì´ ìƒì„±ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## í…Œì´ë¸” ê°„ì˜ ê´€ê³„ ì¶”ê°€
car í…Œì´ë¸”ê³¼ ì¼ëŒ€ë‹¤(1:N) ê´€ê³„ì— ìˆëŠ” ownerë¼ëŠ” ìƒˆ í…Œì´ë¸”ì„ ë§Œë“¤ê²ë‹ˆë‹¤. ì¼ëŒ€ë‹¤ ê´€ê³„ëŠ” ì†Œìœ ìê°€ í•œ ëª…ì´ ìë™ì°¨ ì—¬ëŸ¬ ëŒ€ë¥¼ ê°€ì§ˆ ìˆ˜ ìˆì§€ë§Œ, í•œ ìë™ì°¨ì˜ ì†Œìœ ìëŠ” í•œ ëª…ì´ë¼ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤.

domain íŒ¨í‚¤ì§€ì— Ownerì´ë¼ëŠ” ì—”í‹°í‹° í´ë˜ìŠ¤ì™€ OwnerRepositoryë¼ëŠ” repository ì¸í„°í˜ì´ìŠ¤ë¥¼ ë§Œë“¤ì–´ì•¼ í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  OwnerRepositoryëŠ” JpaReposiotryë¥¼ ìƒì† ë°›ì•„ì•¼ í•©ë‹ˆë‹¤.

ì´ìƒì˜ ì¼ëŒ€ë‹¤ ê´€ê³„ë¥¼ ì¶”ê°€í•˜ë ¤ë©´ `@ManyToOne`ê³¼ `@OneToMany` ì• ë„ˆí…Œì´ì…˜(jakarta.persistence)ì„ ì´ìš©í•´ì•¼ í•©ë‹ˆë‹¤. ì™¸ë˜ í‚¤ë¥¼ í¬í•¨í•œ Car ì—”í‹°í‹° í´ë˜ìŠ¤ì—ì„œëŠ” `@ManyToOne`ì„ ì‚¬ìš©í• ê²ë‹ˆë‹¤(ì´ê²ƒ ë•Œë¬¸ì— ìœ„ì— ë¶€ë¶„ ë³µì‚¬í•´ì™”ìŠµë‹ˆë‹¤). ê·¸ë¦¬ê³  ì™¸ë˜í‚¤ë¥¼ ì¶”ê°€í–ˆê¸° ë•Œë¬¸ì— field êµ¬ì„±ì´ ë‹¬ë¼ì ¸ì•¼ê² ì£ .

ê·¸ëŸ¼ DB ì ìœ¼ë¡œ ë´¤ì„ ë•ŒëŠ” car tableì—ë‹¤ê°€ ì™¸ë˜í‚¤ì¸ ownerIdë¥¼ ì¶”ê°€í•˜ëŠ” ê°œë…ì´ë¼ê³  ë³¼ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— Car entity classì—ëŠ” Owner ê´€ë ¨ fieldë¥¼ ì¶”ê°€í•´ì•¼ í•©ë‹ˆë‹¤. ê·¸ë ‡ë‹¤ë©´ ìƒˆë¡œ ì¶”ê°€ëœ fieldì— ëŒ€í•œ getter / setterë„ ìš”êµ¬ë ê²ë‹ˆë‹¤. ëª¨ë“  JOIN ê´€ê³„ì—ì„œëŠ” FetchType.LAZYë¥¼ ì´ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤. ëŒ€ë‹¤(toMany) ê´€ê³„ì˜ ê²½ìš°ì—ëŠ” FetchType.LAZYê°€ ê¸°ë³¸ê°’ì´ë¯€ë¡œ ì •ì˜í•  í•„ìš”ê°€ ì—†ì§€ë§Œ ëŒ€ì¼(toOne) ê´€ê³„ì˜ ê²½ìš°ì—ëŠ” ë°˜ë“œì‹œ ëª…ì‹œí•´ì¤˜ì•¼ í•©ë‹ˆë‹¤.

FetchType : DBì—ì„œ ë°ì´í„°ë¥¼ ê²€ìƒ‰í•˜ëŠ” ì „ëµì„ ì •ì˜. ì†ì„±ê°’ìœ¼ë¡œëŠ”
  EAGER : ì¦‰ì‹œ ê²€ìƒ‰
  LAZY : ì§€ì—° ê²€ìƒ‰
ì €í¬ ì˜ˆì œì—ì„œëŠ” ì§€ì—° ê²€ìƒ‰(LAZY)ì€ DBì—ì„œ ì†Œìœ ìë¥¼ ê²€ìƒ‰í•˜ë©´ í•„ìš”í•  ë•Œ í•´ë‹¹ ì†Œìœ ìì™€ ì—°ê´€ëœ ëª¨ë“  ìë™ì°¨ë¥¼ ê²€ìƒ‰í•œë‹¤ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤. ë°˜ë©´ ì¦‰ì‹œ ê²€ìƒ‰(EAGER)ì€ í•´ë‹¹ ì†Œìœ ìì˜ ëª¨ë“  ìë™ì°¨ë¥¼ ì¦‰ì‹œ ê²€ìƒ‰í•©ë‹ˆë‹¤.

```java
// Car.java
{
    @Id
    @GeneratedValue(strategy = GenerationType.AUTO)
    private Long id;
    private String brand, model, color, registrationNumber;
    private int modelYear, price;

    @ManyToOne(fetch = FetchType.LAZY)
    @JoinColumn(name = "owner")
    private Owner owner;

    public Owner getOwner() {
        return owner;
    }

    public void setOwner(Owner owner) {
        this.owner = owner;
    }

    public Car(String brand, String model, String color, String registrationNumber, int modelYear, int price) {
        this.brand = brand;
        this.model = model;
        this.color = color;
        this.registrationNumber = registrationNumber;
        this.modelYear = modelYear;
        this.price = price;
    }
}
// Owner.java
package com.example.cardatabase.domain;

import jakarta.persistence.*;
import lombok.*;

import java.util.List;

@Entity
@Getter
@Setter
@ToString
@NoArgsConstructor(force = true)
@RequiredArgsConstructor
public class Owner {
    @Id
    @GeneratedValue(strategy = GenerationType.AUTO)
    private Long ownerId;

    @NonNull
    private String firstName;
    @NonNull
    private String lastName;

    // ì†Œìœ ìëŠ” ë‹¤ìˆ˜ì˜ ì°¨ë“¤ì„ ê°€ì§ˆ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— Collectionsë¥¼ ì‚¬ìš©.
    @OneToMany(cascade = CascadeType.ALL, mappedBy = "owner")
    private List<Car> cars;
}
```
ì´ìƒì˜ ì½”ë“œì—ì„œ `@Data`ë¥¼ ë‹¬ì•„ë‘” ê²½ìš°ì— ì¼ë¶€ëŸ¬ ê²¹ì¹˜ì§€ë§Œ Ownerì™€ ê´€ë ¨ëœ getter / setterë¥¼ ì½”ë“œë¡œ ì¨ë‘ì—ˆìŠµë‹ˆë‹¤. ë°˜ë©´ì— `@Getter, @Setter`ë¥¼ ëª…ì‹œí•´ë‘” Owner í´ë˜ìŠ¤ì—ëŠ” cars ê´€ë ¨ getter/ setterë¥¼ ì•ˆ ì¼ìŠµë‹ˆë‹¤. ë‹¹ì—°íˆ í”„ë¡œì íŠ¸ í•˜ì‹¤ ë•ŒëŠ” setOwner() / getOwner()ë¥¼ ì½”ë“œë¡œ ì“°ì‹¤ í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤.

Owner classì˜ `@OneToMany` ì• ë„ˆí…Œì´ì…˜ì—ëŠ” íŠ¹ì„±ì´ ìˆìŠµë‹ˆë‹¤.
1. cascade ì†ì„±ì€ ì‚­ì œ / ì—…ë°ì´íŠ¸ ì‹œ ì—°ì† íš¨ê³¼ê°€ ì ìš©ë˜ëŠ” ë°©ë²•ì„ ì§€ì •í•©ë‹ˆë‹¤. 
  - ALLë¡œ ì„¤ì •í•˜ê²Œ ë˜ë©´ ëª¨ë“  ì‘ì—…ì´ ì—°ì†ì ìœ¼ë¡œ ì ìš©ë©ë‹ˆë‹¤.
  - ì˜ˆë¥¼ ë“¤ì–´ Ownerë¥¼ ì‚­ì œí•˜ê²Œ ë˜ë©´ ê·¸ ì†Œìœ ìì™€ ì—°ê²°ëœ Car ê°ì²´ë“¤ë„ ì „ë¶€ ë‹¤ ì‚­ì œë©ë‹ˆë‹¤.
2. mappedBy="owner" ì†ì„± ì„¤ì • : Car í´ë˜ìŠ¤ ì‚¬ì´ì— ì´ ê´€ê³„ì˜ ì™¸ë˜ í‚¤ì¸ owner í•„ë“œê°€ ì¡´ì¬í•¨ì„ ëª…ì‹œí•¨.

SQLì„ ë°°ìš´ ì €í¬ê°€ ì¢€ ì–´ìƒ‰í•˜ê²Œ ëŠê»´ì§ˆ ìˆ˜ ìˆëŠ” ê²ƒì€ ownerId í•„ë“œ í•˜ë‚˜ë§Œ ê°€ì§€ê³  ì™€ì„œ ì—°ê²°ì§“ëŠ”ê²Œ ì•„ë‹ˆë¼ Owner í´ë˜ìŠ¤ë¥¼ í†µì§¸ë¡œ ë“¤ê³ ì™€ì„œ Carì— fieldë¡œ ì‚¼ëŠ”ë‹¤ëŠ” ì ì…ë‹ˆë‹¤.

## H2 -> MariaDBë¡œ ì´ì‹
h2 versionì„ pushí•©ë‹ˆë‹¤.

git add .
git commit -m "feat: h2 ì¸ë©”ëª¨ë¦¬ ì„¤ì • ê´€ë ¨ ì½”ë“œ"
git push

//1. HeidiSQL

```java
spring.application.name=cardatabase
spring.datasource.url=jdbc:mariadb://localhost:3310/cardb
spring.datasource.username=root
spring.datasource.password=1234
spring.datasource.driver-class-name=org.mariadb.jdbc.Driver

spring.jpa.generate-ddl=true
spring.jpa.hibernate.ddl-auto=create-drop
```

spring.jpa.generate-ddl=true ì„¤ì •ì€ JPAê°€ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì´ˆê¸°í™”í•´ì•¼í•˜ëŠ”ì§€(true/false) ì—¬ë¶€ë¥¼
ì •ì˜í•©ë‹ˆë‹¤.

spring.jpa.hibernate.ddl-auto=create-drop ì„¤ì •ì€ ë°ì´í„°ë² ì´ìŠ¤ ì´ˆê¸°í™”ì˜ ì‘ë™ì„ ì •ì˜. ì´ìš© ê°€ëŠ¥í•œ ê°’ì€ none / validate / update / create / create-dropìœ¼ë¡œ ê¸°ë³¸ê°’ì€ dbë§ˆë‹¤ ë‹¤ë¦…ë‹ˆë‹¤. h2
ì¸ë©”ëª¨ë¦¬ì˜ ê²½ìš°ì—ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ create-dropì¸ë°, mariadbëŠ” noneì…ë‹ˆë‹¤.
    -create : ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì‹œì‘ë ë•Œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ìƒì„±í•˜ê¸°ë§Œ í•¨(ê·¸ë˜ì„œ createë¡œ í•´ë†“ê³  ë™ì¼í•œ í…Œì´ë¸”ëª… ì„¤ì •í•´ì£¼ë©´ ì˜¤ë¥˜ê°€ ë‚œë‹¤)
    - update : ë°ì´í„° ë² ì´ìŠ¤ë¥¼ ìƒì„±í•˜ê³  ìŠ¤í‚¤ë§ˆê°€ ë³€ê²½ë˜ë©´ ìˆ˜ì •.
    - create-drop : ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì‹œì‘ë ë•Œë§ˆë‹¤ dbë¥¼ ìƒì„±í•˜ê³  ì¤‘ì§€ë  ë•Œë§ˆë‹¤ ì‚­ì œ -> ê·¸ë˜ì„œ
    ì¦ì€ ë³€ê²½ì‚¬í•­ì´ ìˆëŠ” ê°œë°œ í™˜ê²½ì—ì„œëŠ” ì–˜ë¥¼ ì“°ëŠ” í¸ì…ë‹ˆë‹¤.

springboot í”„ë¡œì­íŠ¸ ìƒì„±
entity class - repositoryì˜ ê´€ê³„ì„±(lombok ìœ ë¬´ì— ë”°ë¥¸ ì½”ë“œ ë¼ì¸ ë³€ê²½ ì‚¬í•­ ì‘ì„±)
mariadb ì´ì‹ê³¼ ê´€ë ¨ëœ ì„¤ì •

ì´ìƒê¹Œì§€ ì‘ì„±í–ˆë‹¤ê³  ê°€ì •í–ˆì„ë•Œ , CarDatabaseApplicationì— CommandLineRunner


# RESTful API SpringBoot ver.

Spring Data RESTë¥¼ ì´ìš©í•˜ì—¬ CRUD ê¸°ëŠ¥ì„ ìë™ìœ¼ë¡œ ì œê³µí•˜ëŠ” RESTful ì›¹ ì„œë¹„ìŠ¤ë¥¼ ë§Œë“¤ê³ , ê·¸ê²ƒì„ OpenAPI 3(Swagger)ë¡œ API ëª…ì„¸ì„œë„ ë§Œë“¤ì–´ ë³¼ ì˜ˆì •ì…ë‹ˆë‹¤.

## REST ê¸°ì´ˆ

- ì›¹ ì„œë¹„ìŠ¤ë¥¼ ì œì‘í•˜ê¸° ìœ„í•œ ì•„í‚¤í…ì²˜ ìŠ¤íƒ€ì¼. Representational State Transferë¥¼ ëœ»í•˜ë©° íŠ¹ì • ì–¸ì–´ë‚˜ í”Œë«í¼ì— ë…ë¦½ì ì´ë©° ëª¨ë°”ì¼ ì•±/ ê¸°íƒ€ ì„œë¹„ìŠ¤ì™€ ê°™ì€ ë‹¤ì–‘í•œ í´ë¼ì´ì–¸íŠ¸ë“¤ì´ ì„œë¡œ í†µì‹ í•  ìˆ˜ ìˆë‹¤ê³  í•¨

- ê·¼ë° ã…£ì´ê²Œ ë§‰ ì •í•´ì§„ ê·œì¹™ì´ ìˆëŠ” í”„ë ˆì„ì›Œí¬ë¼ì„œ ê¼­ ì´ëŸ°ì‹ìœ¼ë¡œ ì‘ì„±í•˜ì„¸ìš”, ë¼ëŠ” ì˜ë¯¸ê°€ ì•„ë‹ˆë¼ ë¡œì´í•„ë”©ì´ë¼ê³  í•˜ëŠ” ê°œë°œìê°€ ì œì‹œí•œ ì œì•½ ì¡°ê±´ì˜ ì§‘í•©ì…ë‹ˆë‹¤.

- RESTì˜ ì œì•½ ì¡°ê±´
    1. ìƒíƒœ ë¹„ì €ì¥ : ì„œë²„ëŠ” í´ë¼ì´ì–¸íŠ¸ ìƒíƒœì— ê´€í•œ ì–´ë–¤ ì •ë³´ë„ ì €ì¥í•˜ì§€ ì•ŠìŒ.
    2. í´ë¼ì´ì–¸íŠ¸-ì„œë²„ ê°„ì˜ ë…ë¦½ì„± : í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ëŠ” ë…ë¦½ì ìœ¼ë¡œ ì‘ë™í•´ì•¼ í•¨. ì„œë²„ëŠ” í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì—†ì´ ì–´ë– í•œ ì •ë³´ë„ ì „ì†¡í•´ì„œëŠ” ì•ˆëœë‹¤.
    3. ìºì‹œ ê°€ëŠ¥ : ì—¬ëŸ¬ í´ë¼ì´ì–¸íŠ¸ê°€ ë™ì¼í•œ ë¦¬ì†ŒìŠ¤ë¥¼ ìš”ì²­í•˜ëŠ” ê²½ìš°ê°€ ë§ìœ¼ë¯€ë¡œ ì„±ëŠ¥í–¥ìƒì„ ìœ„í•´ ë¦¬ì†ŒìŠ¤ì— ìºì‹±ì„ ì ìš©í•´ì•¼í•¨
    4. ì¼ê´€ë¤ ì¸í„°í˜ì´ìŠ¤ : ì„œë¡œ ë‹¤ë¥¸ í´ë¼ì´ì–¸íŠ¸ì— ì˜í•œ ìš”ì²­ì´ë”ë¼ë„ ì‘ë‹µì€ ë™ì´ë¼í•˜ê²Œ ë³´ì—¬ì•¼í•¨.
    í´ë¼ì´ì–¸íŠ¸ì˜ ì˜ˆì‹œë¡œëŠ” ë¸Œë¼ìš°ì € / ìë°” ì• í”Œë¦¬ì¼€ì´ì…˜ / ëª¨ë°”ì¼ ì• í”Œë¦¬ì¼€ì´ì…˜ ë“±
    5. ê³„ì¸µí˜„ ì‹œìŠ¤í…œ : ì „ì²´ì„œë¹„ìŠ¤ì— ì˜í–¥ì„ ì£¼ì§€ ì•Šê³  êµ¬ì„±ìš”ì†Œë¥¼ ì¶”ê°€í•˜ê±°ë‚˜ ìˆ˜ì •í•  ìˆ˜ ìˆì–´ì•¼ í•¨.
    ì´ì¡°ê±´ì€ í™•ì¥ì„±ê³¼ ê´€ë ¨ìˆìŒ. ë‹¹ê·¼ ë§ˆì¼“ì— ê°‘ìê¸° ì§€ë„ ì¶”ê°€ë˜ê±°ë‚˜ í˜¹ì€ ì±„íŒ…ì´ ì¶”ê°€ë˜ê±°ë‚˜, ë˜í•œ ê°€ê²© ë³€ë™ì— ëŒ€í•œ ì•ŒëŒë“± ê¸°ëŠ¥ì´ ì¶”ê°€ë˜ë”ë¼ë„ ë‹¹ê·¼ ë§ˆì¼“ìí…Œê°€ ë©ˆì¶”ì§€ ì•Šì£ .
    6. ì£¼ë¬¸í˜• ì½”ë“œ : ì„ íƒ ì‚¬í•­ì— í•´ë‹¹í•˜ëŠ”ë°, ëŒ€ë¶€ë¶„ì˜ ì„œë²„ëŠ” ì •ì  ì»¨í…ì¸ ë¥¼  JSON ë˜ëŠ” XML í˜•ì‹ìœ¼ë¡œ ì „ì†¡í•œë‹¤. ì´ëŠ” ì„œë²„ê°€ ì •ì  ì»¨í…ì¸ ë§Œì´ ì•„ë‹ˆë¼ ì‹¤í–‰ ì½”ë“œë¥¼ ì „ì†¡í•  ìˆ˜ ìˆë„ë¡ í•¨.

- REST ì•„í‚¤í…ì²˜ì— í¬í•¨ë˜ì–´ì•¼ í•˜ëŠ” ìš”ì†Œë“¤.
    1. ë¦¬ì†ŒìŠ¤ ì‹ë³„ : ë¦¬ì†ŒìŠ¤ëŠ” ê³ ìœ  ì‹ë³„ì(ì˜ˆë¥¼ ë“¤ë©´ REST ì„œë¹„ìŠ¤ì˜ URI)ë¡œ ì‹ë³„í•´ì•¼ í•¨. REST ë¦¬ì†ŒìŠ¤ëŠ” 
    ì´í•´í•˜ê¸° ì‰¬ìš´ ë””ë ‰í† ë¦¬ êµ¬ì¡°ì˜ URIë¥¼ ë…¸ì¶œí•´ì•¼ í•¨. ê·¸ë˜ì„œ ì£¼ì†Œë¥¼ ë³´ë©´
    2. í‘œí˜„ì„ í†µí•œ ë¦¬ì†ŒìŠ¤ ì¡°ì‘ : ë¦¬ì†ŒìŠ¤ë¥¼ ìš”ì²­í•  ë•Œ ì„œë²„ëŠ” ë¦¬ì†ŒìŠ¤ì˜ í‘œí˜„ìœ¼ë¡œ ì‘ë‹µí•´ì•¼ í•¨. ì¼ë°˜ì ì¸
    í‘œí˜„ í˜•ì‹ìœ¼ë¡œëŠ” JSON / XML
    3. ìì²´ì ì¸ ì„¤ëª… ë©”ì‹œì§€ : ë©”ì‹œì§€ëŠ” ì„œë²„ê°€ ì²˜ë¦¬ ë°©ë²•ì„ ì•Œ ìˆ˜ ìˆëŠ” ì¶©ë¶„í•œ ì •ë³´ê°€ í¬í•¨ë˜ì–´ì•¼ í•¨.
    4. HATEOAS(Hypermedia As The Engine Of Application State) : ì‘ë‹µì—ëŠ” ì„œë¹„ìŠ¤ì˜ ë‹¤ë¥¸ ì˜ì—­ìœ¼ë¡œ ì—°ê²°ë˜ëŠ” ë§í¬ê°€ í¬í•¨ë˜ì–´ì•¼ í•¨.

## SpringBootë¡œ RESTful API ì›¹ ì„œë¹„ìŠ¤ ë§Œë“¤ê¸°
- ì´ì œ Controller í´ë˜ìŠ¤ê°€ í•„ìš”í•©ë‹ˆë‹¤. ControllerëŠ” ëª¨ë“  HTTP ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” í´ë˜ìŠ¤ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.
- cardatabase íŒ¨í‚¤ì§€ì— webì´ë¼ëŠ” íŒ¨í‚¤ì§€ë¥¼ ìƒì„±.
- web íŒ¨í‚¤ì§€ ë‚´ì— CarControllerë¼ê³  í•˜ëŠ” Java Classë¥¼ ìƒì„±.

```java
package com.example.cardatabase.web;

import org.springframework.web.bind.annotation.RestController;

@RestController
public class CarController {
    
}

`@RestController` : í•´ë‹¹ í´ë˜ìŠ¤ê°€ RESTful API ì›¹ ì„œë¹„ìŠ¤ ìƒì˜ Controllerê°€ ë  ê²ƒì„ ì§€ì •í•¨.

- ë©”ì„œë“œë“¤ì´ í¬í•¨ë  ê²ë‹ˆë‹¤. Controller í´ë˜ìŠ¤ì˜ ë©”ì„œë“œì—ëŠ” ë©”ì„œë“œê°€ ë§¤í•‘ë˜ëŠ” ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì •ì˜í•˜ëŠ” 
@RequestMapping ì• ë„ˆí…Œì´ì…˜ì„ ì§€ì •í• ê²ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ `/cars` ì—”ë“œí¬ì¸íŠ¸ë¡œ GET ìš”ì²­ì„ í•˜ê²Œ ëì„ ë•Œ
getCars() ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ê²Œ ë©ë‹ˆë‹¤.

package com.example.cardatabase.web;

import com.example.cardatabase.domain.Car;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RestController;

@RestController
public class CarController {
    @GetMapping("/cars")
    public Iterable<Car> getCars(){
        // ìë™ì°¨ë¥¼ ê²€ìƒ‰í•˜ê³  ë°˜í™˜
    }
}
```

ì´ìƒì˜ ìƒíƒœì—ì„œ getCars() ë©”ì„œë“œëŠ” ëª¨ë“  ìë™ì°¨ ê°ì²´ë¥¼ ë°˜í™˜í•œ ë‹¤ìŒì— Jackson ë¼ì´ë¸ŒëŸ¬ë¦¬ ì˜í•´ì„œ
ìë™ìœ¼ë¡œ JSON ê°ì²´ë¡œ ë³€í™˜ë©ë‹ˆë‹¤.

ê·¸ë¦¬ê³  getCars() ë©”ì„œë“œëŠ” `@GetMapping` ì• ë„ˆí…Œì´ì…˜ì„ ì´ìš©í•˜ê¸° ë•Œë¬¸ì— `/cars` ì—”ë“œí¬ì¸íŠ¸ì˜ GET ìš”ì²­ë§Œ ì²˜ë¦¬í•©ë‹ˆë‹¤. ì¦‰ SQLë¬¸ ìƒì—ì„œì˜ SELECT ìš”ì²­ë§Œ ì²˜ë¦¬í•œë‹¤ëŠ” ì˜ë¯¸ê² ë„¤ìš”.
ë˜í•œ ê·¸ ë§ì€  `@PostMapping` ì—ì„œëŠ” SQLë¬¸ ìƒì—ì„œì˜ INSERT ìš”ì²­ë§Œ ì²˜ë¦¬í•œë‹¤ëŠ” ëœ»ì´ ë˜ê² ìŠµë‹ˆë‹¤. `@--Mapping`ë§Œ ë³´ê³ ì„œë„ ì–´ë–¤ ì—­í• ì„ í•˜ëŠ” methodì¸ì§€ ìš°ë¦¬ëŠ” ì¶”ì¸¡í•  ìˆ˜ê°€ ìˆìŠµë‹ˆë‹¤.
`@PostMapping`
`@GetMapping`
`@DeletMapping`
ë“±ì´ ìˆìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ POST / GET / DELECT ë“±ì„ HTTP ë©”ì„œë“œë¼ê³  í‘œí˜„ í•©ë‹ˆë‹¤.

ê·¸ëŸ¬ë©´ ì¢€ ë¡œì§ì„ ìƒê°í•´ë³¼ í•„ìš”ê°€ ìˆê² ìŠµë‹ˆë‹¤. getCars()ë¥¼ í˜¸ì¶œí•œë‹¤ê³  í• ë•Œ ìš°ë¦¬ëŠ” ì–´ë””ì—ì„œ ìë™ì°¨ ëª©ë¡ì„ ê°€ì§€ê³  ì˜¬ ìˆ˜ ìˆì„ì§€.

```java
package com.example.cardatabase.web;

import com.example.cardatabase.domain.Car;
import com.example.cardatabase.domain.CarRepository;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RestController;

@RestController
public class CarController {
    private final CarRepository carRepository;

    public CarController(CarRepository carRepository) {
        this.carRepository = carRepository;
    }

    @GetMapping("/cars")
    public Iterable<Car> getCars(){
        return carRepository.findAll();
    }
}

```

ë‹¹ì—°íˆ ìë™ì°¨ë“¤ì´ ì €ì¥ë˜ì–´ìˆëŠ” ê³³ì€ car í…Œì´ë¸”ì¼ê±°ë‹ˆê¹Œ, SELECT * FROM car;ë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆëŠ” CarRepositoryê°€ í•„ìš”í•©ë‹ˆë‹¤.
ê·¸ë˜ì„œ Controllerì—ì„œ CarRepositoryë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ fieldë¡œ ì„ ì–¸í•˜ê³ ,
finalì„ ë¨¹ì—¬ì„œ CarControllerì— CarRepositoryê°€ í¬í•¨ë˜ì–´ìˆëŠ” ë§¤ê°œë³€ìˆ˜ ìƒì„±ìë¥¼ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë©´ CarControllerëŠ” carRepsioryì— ë”¸ë ¤ìˆëŠ” ë©”ì„œë“œì¸ .findAll(); ì„ í†µí•´ì„œ ì „ì²´ ìë™ì°¨ ëª©ë¡ì„ returní•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.

í˜„ì¬ ìƒí™©ì—ì„œ ìƒê¸¸ ìˆ˜ ìˆëŠ” ë¬¸ì œë¥¼ ê²€í† í•˜ê² ìŠµë‹ˆë‹¤.
1. ìë™ì°¨ ëª©ë¡ì„ ë‹¤ ê°€ì§€ê³  ì˜µë‹ˆë‹¤.
2. ê·¼ë° ìë™ì°¨ ëª©ë¡ì˜ ê°ê°ì˜ fieldë“¤ì—ëŠ” Ownerê°€ í¬í•¨ë˜ì–´ìˆìŠµë‹ˆë‹¤.
3. ê·¼ë° ê·¸ Ownerì—ëŠ” Carsë¼ê³  í•˜ëŠ” fieldê°€ ìˆìŠµë‹ˆë‹¤.
4. ê·¸ë¦¬ê³  ê·¸ cars List ë‚´ì—ëŠ” ê°ê°ì˜ elementë¡œ car ê°ì²´ë“¤ì´ ìˆìŠµë‹ˆë‹¤.
5. ê·¸ carì˜ ê°ì²´ì˜ fieldë¡œ Ownerê°€ í¬í•¨ë˜ì–´ìˆìŠµë‹ˆë‹¤.
6. ë¬´í•œë°˜ë³µ

ê·¸ë˜ì„œ Owener.javaì— `@JsonIgnoreProperties({"hibernateLazyInitalizer" , "handler})`ì™€ cars í•„ë“œì— `@JsonIgnore`ë¥¼ ì ìš©í•˜ê²Œ ë˜ë©´ ë¬´í•œ ë°˜ë³µì„ ë¬´ì‹œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```java

package com.example.cardatabase.domain;

import com.fasterxml.jackson.annotation.JsonIgnore;
import com.fasterxml.jackson.annotation.JsonIgnoreProperties;
import jakarta.persistence.*;
import lombok.*;

import java.util.List;


@Entity
@JsonIgnoreProperties({"hibernateLazyInitializer", "handler"})
@NoArgsConstructor(force = true)
@Getter
@Setter
@ToString
@RequiredArgsConstructor

public class Owner {
    @Id
    @GeneratedValue(strategy = GenerationType.AUTO)
    private Long ownerId;

    @NonNull
    private final String firstName;
    @NonNull
    private final String lastName;

    // ì†Œìœ ìëŠ” ë‹¤ìˆ˜ì˜ ì°¨ë“¤ì„ ê°€ì§ˆ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— Collectionsë¥¼ ì‚¬ìš©.
    @JsonIgnore
    @OneToMany(cascade = CascadeType.ALL, mappedBy = "owner")
    private List<Car> cars;
}
```